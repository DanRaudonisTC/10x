/* stylelint-disable */

$grid-namespace-prefix: 'g-';

// basic container
.#{$grid-namespace-prefix}container {
  @include u-max-width(desktop);
  @include u-margin-x(auto);
}

// container with custom widths
@each $width-key, $width-value in $uswds-breakpoints {
  .#{$grid-namespace-prefix}container-#{$width-key} {
    @include u-max-width($width-key);
    @include u-margin-x(auto);
  }
}

// responsive containers...
@each $mq-key, $mq-value in $uswds-breakpoints {
  @if map-get($theme-output-breakpoints, $mq-key) {
    @include at-media($mq-key){
      .#{$mq-key}\:#{$grid-namespace-prefix}container {
        @include u-max-width(desktop);
        @include u-margin-x(auto);
      }

// ...with custom widths
      @each $width-key, $width-value in $uswds-breakpoints {
        .#{$mq-key}\:#{$grid-namespace-prefix}container-#{$width-key} {
          @include u-max-width($width-key);
          @include u-margin-x(auto);
        }
      }
    }
  }
}

// basic row...
.#{$grid-namespace-prefix}row {
  @include u-display(flex);
  @include u-flex(wrap);

// ...that includes column gaps
  &.#{$grid-namespace-prefix}gap {
    @include u-margin-x(n-#{calc-gap-offset($theme-column-gap)});
    > [class*='#{$grid-namespace-prefix}col'] {
      @include u-padding-x(calc-gap-offset($theme-column-gap));
    }
  }
  @if $theme-column-gap-large {
    &.#{$grid-namespace-prefix}gap-large {
      @include u-margin-x(n-#{calc-gap-offset($theme-column-gap-large)});
      > [class*='#{$grid-namespace-prefix}col'] {
        @include u-padding-x(calc-gap-offset($theme-column-gap-large));
      }
    }
  }

// responsive column gaps
  @each $mq-key, $mq-value in $uswds-breakpoints {
    @if map-get($theme-output-breakpoints, $mq-key) {
      @include at-media($mq-key){
        &.#{$mq-key}\:#{$grid-namespace-prefix}gap {
          @include u-margin-x(n-#{calc-gap-offset($theme-column-gap)});
          > [class*='#{$grid-namespace-prefix}col'] {
            @include u-padding-x(calc-gap-offset($theme-column-gap));
          }
        }
        @if $theme-column-gap-large {
          &.#{$mq-key}\:#{$grid-namespace-prefix}gap-large {
            @include u-margin-x(n-#{calc-gap-offset($theme-column-gap-large)});
            > [class*='#{$grid-namespace-prefix}col'] {
              @include u-padding-x(calc-gap-offset($theme-column-gap-large));
            }
          }
        }
      }
    }
  }
}

// basic columns...
.#{$grid-namespace-prefix}col {
  @include u-width(full);
}

.#{$grid-namespace-prefix}col-auto {
  @include u-flex(auto);
}

.#{$grid-namespace-prefix}col-fill {
  @include u-flex(fill);
}

// ...with widths
@each $width-key, $width-value in $uswds-layout-grid-widths {
  .#{$grid-namespace-prefix}col-#{$width-key} {
    @include u-width(override, $width-value);
  }
}

// responsive columns
@each $mq-key, $mq-value in $uswds-breakpoints {
  @if map-get($theme-output-breakpoints, $mq-key) {
    @include at-media($mq-key){
      .#{$mq-key}\:#{$grid-namespace-prefix}col {
        @include u-width(full);
      }
      .#{$mq-key}\:#{$grid-namespace-prefix}col-fill {
        @include u-flex(fill);
      }
      .#{$mq-key}\:#{$grid-namespace-prefix}col-auto {
        @include u-flex(auto);
      }

      @each $width-key, $width-value in $uswds-layout-grid-widths {
        .#{$mq-key}\:#{$grid-namespace-prefix}col-#{$width-key} {
          @include u-width(override, $width-value);
        }
      }
    }
  }
}

// basic offsets
@each $width-key, $width-value in $uswds-layout-grid-widths {
  .#{$grid-namespace-prefix}offset-#{$width-key} {
    @include u-margin-left(override, $width-value);
  }
}

// responsive offsets
@each $mq-key, $mq-value in $uswds-breakpoints {
  @if map-get($theme-output-breakpoints, $mq-key) {
    @each $width-key, $width-value in $uswds-layout-grid-widths {
      @include at-media($mq-key) {
        .#{$mq-key}\:#{$grid-namespace-prefix}offset-#{$width-key} {
          @include u-margin-left(override, $width-value);
        }
      }
    }
  }
}
/* stylelint-enable */
